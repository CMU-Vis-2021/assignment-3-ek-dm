import{c as m,r as y,b as g,l as h,m as v,s,p,a as x,f as b,d as L}from"./vendor.68e6df58.js";const A=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}};A();m("police_killings.csv").then(c=>{console.log(c);let n=document.querySelector("#d3-div"),i=30,r=Array.from(y(c,e=>e.length,e=>e.raceethnicity));console.log(r);let t=g().domain(r.map(e=>e[0])).range([0+i,700-i]).paddingInner(.1),o=h().domain([0,v(r,e=>e[1])]).range([500,0]),a=s("body").append("d3-div").attr("class","toolTip").style("opacity",0),d=s(n).append("svg").attr("margin",{top:20,right:20,bottom:30,left:50}).attr("width",700).attr("height",600);d.selectAll("rect").data(r).enter().append("rect").attr("fill","orange").attr("x",e=>t(e[0])).attr("y",e=>o(e[1])).attr("width",t.bandwidth()).attr("height",e=>500-o(e[1])).on("mouseover",function(e,l){console.log(l),s(this).transition().duration("50").attr("opacity","0.85"),a.transition().duration(50).style("opacity",1),a.style("left",p(e)-20+"px").style("top",p(e)-40+"px").style("display","inline-block").text("Race: "+l[0]+", Count: "+l[1]),console.log(p(e))}).on("mouseout",function(e,l){s(this).transition().duration("50").attr("opacity","1"),a.transition().duration("50").style("opacity",0)});let u=L(t);d.append("g").attr("transform","translate(0, 500)").call(u);let f=x(o).tickFormat(b(".0"));d.append("g").attr("transform",`translate(${i}, 0)`).call(f)});
